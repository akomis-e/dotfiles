# Logo key. Use Mod1 for Alt. Mod4 = windows key
set $mod Mod4
# Home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

set $term       alacritty
set $menu       wofi --show drun -c ~/.config/wofi/gruvbox.css
# set $menu wmenu-run -b

### --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
# Workspaces:
    # to drag windows using mod + L_Click
    floating_modifier $mod normal
    
    ### --- --- --- --- --- ---
    # BINDINGS - NORMAL USE (mod + key)
    bindsym $mod+1 workspace number 1
    bindsym $mod+2 workspace number 2
    bindsym $mod+3 workspace number 3
    bindsym $mod+4 workspace number 4
    bindsym $mod+5 workspace number 5
    bindsym $mod+6 workspace number 6
    bindsym $mod+7 workspace number 7
    bindsym $mod+8 workspace number 8
    bindsym $mod+9 workspace number 9
    bindsym $mod+0 workspace number 10
    # Move your focus around
    bindsym $mod+$left  focus left
    bindsym $mod+$down  focus down
    bindsym $mod+$up    focus up
    bindsym $mod+$right focus right
    bindsym $mod+Left   focus left
    bindsym $mod+Down   focus down
    bindsym $mod+Up     focus up
    bindsym $mod+Right  focus right

    bindsym $mod+f      fullscreen
    bindsym $mod+space  focus mode_toggle
    # bindsym $mod+a      focus parent

    ### --- --- --- --- --- ---
    # BINDINGS - MINOR CHANGES TO SETUP ( mod + shift)
    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left    move left
    bindsym $mod+Shift+$down    move down
    bindsym $mod+Shift+$up      move up
    bindsym $mod+Shift+$right   move right
    bindsym $mod+Shift+Left     move left
    bindsym $mod+Shift+Down     move down
    bindsym $mod+Shift+Up       move up
    bindsym $mod+Shift+Right    move right
 

    # Switch the current container between different layout styles
    bindsym $mod+Shift+s        layout stacking
    bindsym $mod+Shift+w        layout tabbed
    bindsym $mod+Shift+e        layout toggle split
    # Toggle the current focus between tiling and floating mode
    bindsym $mod+Shift+space    floating toggle

    ### --- --- --- --- --- ---
    # BINDINGS - MAJOR CHANGES TO SETUP ( mod + shift + ctrl )
    bindsym $mod+Shift+1 move container to workspace number 1
    bindsym $mod+Shift+2 move container to workspace number 2
    bindsym $mod+Shift+3 move container to workspace number 3
    bindsym $mod+Shift+4 move container to workspace number 4
    bindsym $mod+Shift+5 move container to workspace number 5
    bindsym $mod+Shift+6 move container to workspace number 6
    bindsym $mod+Shift+7 move container to workspace number 7
    bindsym $mod+Shift+8 move container to workspace number 8
    bindsym $mod+Shift+9 move container to workspace number 9
    bindsym $mod+Shift+0 move container to workspace number 10
    # SPLIT OPTIONS - horizontal/vertical
    bindsym $mod+Shift+Ctrl+h        splith
    bindsym $mod+Shift+Ctrl+v        splitv

# RESIZE - mod+Shift+r
mode "resize" {
    bindsym $left   resize shrink width 10px
    bindsym $down   resize grow height 10px
    bindsym $up     resize shrink height 10px
    bindsym $right  resize grow width 10px
    bindsym Left    resize shrink width 10px
    bindsym Down    resize grow height 10px
    bindsym Up      resize shrink height 10px
    bindsym Right   resize grow width 10px
    bindsym Return  mode "default"
    bindsym Escape  mode "default"
}
bindsym $mod+Shift+r      mode "resize"

### --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
# bar
bar {
    swaybar_command waybar
}

### --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
# scroll_factor 1 is great in terminal, but is too much for discord. Eh, whatever
input type:touchpad {
    tap enabled
    natural_scroll enabled
    scroll_factor 1
}

# To find setup options
#   man 5 sway-input
#   man 7 xkeyboard-config
input type:keyboard {
  xkb_layout us,ua
}
# LANGS
# sway input type:keyboard xkb_layout ua
bindsym Ctrl+exclam     exec sway input type:keyboard xkb_layout us
bindsym Ctrl+at         exec sway input type:keyboard xkb_layout ua


### --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
# Volume, Brightness bindings: 
    bindsym --locked XF86AudioMute          exec pactl set-sink-mute    @DEFAULT_SINK@ toggle
    bindsym --locked XF86AudioLowerVolume   exec pactl set-sink-volume  @DEFAULT_SINK@ -5%
    bindsym --locked XF86AudioRaiseVolume   exec pactl set-sink-volume  @DEFAULT_SINK@ +5%
    bindsym --locked XF86AudioMicMute       exec pactl set-source-mute  @DEFAULT_SOURCE@ toggle

    # -e informs to use logarythmic scale. With this key there is no need for other tools (like I saw recommendations to use brillo)
    bindsym --locked XF86MonBrightnessUp    exec brightnessctl set -qe 3%+
    bindsym --locked XF86MonBrightnessDown  exec brightnessctl set -qe 3%-
    bindsym --locked $mod+Alt+equal         exec brightnessctl set -qe 3%+
    bindsym --locked $mod+Alt+minus         exec brightnessctl set -qe 3%-
    bindsym --locked $mod+Ctrl+equal        exec pactl set-sink-volume @DEFAULT_SINK@ +5%
    bindsym --locked $mod+Ctrl+minus        exec pactl set-sink-volume @DEFAULT_SINK@ -5%
    bindsym --locked $mod+Ctrl+underscore   exec pactl set-sink-volume @DEFAULT_SINK@ 0%


    bindsym XF86AudioMute                   exec pactl set-sink-mute @DEFAULT_SINK@ toggle
    bindsym XF86AudioMicMute                exec pactl set-source-mute @DEFAULT_SOURCE@ toggle



### --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
    bindsym $mod+Shift+q            kill
    bindsym $mod+Shift+Ctrl+c       reload

    bindsym $mod+d          exec $menu
    bindsym $mod+Return     exec $term

    bindsym $mod+Alt+Escape     reload
    bindsym $mod+s              exec ~/.config/sway/scripts/subl-projects.sh
    bindsym $mod+Escape         exec ~/.config/sway/scripts/esc-menu.sh
    bindsym $mod+t              exec ~/.config/sway/scripts/_test.sh
    
    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+Ctrl+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

    #open sublime project

### --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
### --- UTILS 
# screenshots util - grim (slurp to border)
    bindsym Print exec grim -g "$(slurp)" 
    bindsym Ctrl+Print exec grim -g "$(slurp)" - | wl-copy --type image/png
    # TODO
    # bindsym $mod+Shift+c exec slurp -p | grim -g | notify-send
# swaync - notifications
    exec swaync
    bindsym $mod+Shift+n exec swaync-client -t -sw
    # Alternatives:
    # exec mako
    # exec nm-applet --indicator
    # exec_always nm-applet --indicator

    exec systemctl --user start mpd